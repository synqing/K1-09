# Shim Record

Tracked adaptation layers and temporary shims introduced to keep the K1-09 firmware stable while longer-term refactors land. Each entry notes the owning subsystem, the purpose, and any sunset criteria so we can retire them deliberately.

## 2025-09-23 — Dual-Strip Coordinator Channel Runner
- **Subsystem:** Visual pipeline / Phase 3 dual-strip overhaul
- **Scope:** pending implementation
- **Intent:** mediate between the audio-driven coordinator (`g_coupling_plan`) and the two ChannelRunners without mutating the Stage 1–5 LED buffers directly. Prevents buffer corruption on mirrored secondary strips and maintains compatibility with existing lightshow modes.
- **Risks Mitigated:** secondary buffer corruption (mid-strip inversion), staging order violations, future “uniform degrade” hooks failing on mismatched buffers.
- **Constraints:** must leave `leds_16` mirror-aligned; keep Stage 4/5 untouched; plan data flows through `frame_config`.
- **Exit Criteria:** dual-strip renderers natively consume coordinator variations; Stage 4/5 operate on finalized buffers with no shim indirection.

> Update this file whenever a new shim lands or an existing one is removed.
